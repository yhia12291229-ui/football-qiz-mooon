<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุชุญุฏู ุงูููุฑุฉ | ูุตุฑู</title>
  <style>
    :root{
      --bg1:#040b08; --bg2:#071a12; --card:rgba(255,255,255,.06);
      --stroke:rgba(255,255,255,.12); --text:#eafff2; --muted:#b7d9c8;
      --accent:#2ee58f; --accent2:#22d37f; --danger:#ff5a6a; --warn:#ffd166;
    }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial}
    body{
      margin:0; color:var(--text); min-height:100vh; display:flex; justify-content:center; align-items:center;
      padding:16px;
      background:
        radial-gradient(900px 500px at 15% 0%, #0e3a27 0%, transparent 60%),
        radial-gradient(700px 450px at 100% 30%, #123b66 0%, transparent 55%),
        radial-gradient(900px 700px at 40% 120%, #2a6b3f 0%, transparent 60%),
        linear-gradient(180deg, var(--bg2), var(--bg1));
    }
    .wrap{width:min(980px,100%)}
    .top{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}
    .brand{display:flex;gap:10px;align-items:center}
    .ball{
      width:42px;height:42px;border-radius:999px;
      background:conic-gradient(from 180deg, #fff 0 20%, #1b3b2c 20% 40%, #fff 40% 60%, #1b3b2c 60% 80%, #fff 80% 100%);
      box-shadow:0 14px 40px rgba(0,0,0,.45);
      border:1px solid rgba(255,255,255,.2);
    }
    .title{font-weight:950;letter-spacing:.2px}
    .sub{color:var(--muted);font-size:13px;margin-top:2px}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      background:rgba(255,255,255,.07); border:1px solid var(--stroke);
      padding:10px 12px;border-radius:999px;color:var(--muted);font-size:13px
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border:1px solid var(--stroke);
      border-radius:16px; overflow:hidden;
      box-shadow:0 22px 70px rgba(0,0,0,.55);
      backdrop-filter: blur(8px);
    }
    .pad{padding:16px}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .grow{flex:1 1 240px}
    .small{font-size:13px;color:var(--muted)}
    select,input{
      width:100%; padding:12px 12px; border-radius:12px;
      border:1px solid var(--stroke); background:rgba(0,0,0,.20);
      color:var(--text); outline:none
    }
    .btn{
      appearance:none;border:0;border-radius:12px;
      padding:12px 14px;background:rgba(255,255,255,.10);
      color:var(--text);font-weight:900;cursor:pointer;transition:.15s;
      display:inline-flex;align-items:center;justify-content:center;gap:8px
    }
    .btn:hover{transform:translateY(-1px);background:rgba(255,255,255,.14)}
    .btn.primary{background:linear-gradient(90deg,var(--accent2),var(--accent));color:#052012}
    .btn.danger{background:rgba(255,90,106,.14);border:1px solid rgba(255,90,106,.35)}
    .btn.ghost{border:1px solid var(--stroke); background:transparent}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .grid3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
    @media (max-width:760px){.grid2,.grid3{grid-template-columns:1fr}}
    .hint{color:var(--muted);font-size:13px;margin-top:10px;line-height:1.6}
    .hide{display:none}

    .bar{height:10px;border-radius:999px;background:rgba(255,255,255,.10);overflow:hidden}
    .fill{height:100%;width:0;background:linear-gradient(90deg,var(--accent2),var(--accent));transition:width .2s}

    .q{font-size:18px;font-weight:950;line-height:1.55;margin:0 0 10px}
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(0,0,0,.18);
      color:var(--muted);font-size:12px
    }
    .opts{display:grid;gap:10px}
    .opt{
      padding:12px 12px;border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.07);
      cursor:pointer;line-height:1.55
    }
    .opt:hover{background:rgba(255,255,255,.12)}
    .opt.correct{border-color:rgba(46,229,143,.55);background:rgba(46,229,143,.12)}
    .opt.wrong{border-color:rgba(255,90,106,.55);background:rgba(255,90,106,.10)}

    .footer{display:flex;gap:10px;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-top:12px}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}
    .inputline{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .inputline input{flex:1 1 260px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <div class="ball"></div>
        <div>
          <div class="title">ุชุญุฏู ุงูููุฑุฉ</div>
          <div class="sub">ูุตุฑู ุนุงูู | ุณููู ุฃู ุชุญุฏู 2 ุตุญุงุจ | ุงุฎุชูุงุฑุงุช + ุตุญ/ุบูุท + ุงููุฃ + ุฑุชูุจ</div>
        </div>
      </div>
      <div class="pill" id="pill">ุฌุงูุฒุ</div>
    </div>

    <div class="card">
      <div class="pad" id="setup">
        <div class="row">
          <div class="grow">
            <div class="small">ูุถุน ุงููุนุจ</div>
            <div style="margin-top:8px">
              <select id="modeSel">
                <option value="solo" selected>ุณููู</option>
                <option value="challenge">ุชุญุฏู ุจูู ุงุชููู</option>
              </select>
            </div>
          </div>
          <div class="grow">
            <div class="small">ุงุณู ุงููุงุนุจ ุงูุฃูู</div>
            <div style="margin-top:8px"><input id="p1In" placeholder="ูุซูุง: ุฃุญูุฏ" /></div>
          </div>
          <div class="grow" id="p2Box">
            <div class="small">ุงุณู ุงููุงุนุจ ุงูุชุงูู</div>
            <div style="margin-top:8px"><input id="p2In" placeholder="ูุซูุง: ูุญููุฏ" /></div>
          </div>
        </div>

        <div style="height:10px"></div>

        <div class="row">
          <div class="grow">
            <div class="small">ุงููุณุชูู</div>
            <div style="margin-top:8px">
              <select id="levelSel">
                <option value="easy">ุณูู</option>
                <option value="medium" selected>ูุชูุณุท</option>
                <option value="hard">ุตุนุจ</option>
                <option value="insane">ูุณุชุญูู</option>
                <option value="legendary">ุฃุณุทูุฑู</option>
              </select>
            </div>
          </div>
          <div class="grow">
            <div class="small">ุนุฏุฏ ุงูุฃุณุฆูุฉ</div>
            <div style="margin-top:8px">
              <select id="countSel">
                <option>10</option>
                <option selected>20</option>
                <option>30</option>
                <option>50</option>
              </select>
            </div>
          </div>
          <div class="grow">
            <div class="small">ุฃููุงุน ุงูุฃุณุฆูุฉ</div>
            <div style="margin-top:8px">
              <select id="typesSel">
                <option value="mix" selected>ุฎููุท (ุงูุฃุญูู)</option>
                <option value="mc">ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ ุจุณ</option>
                <option value="tf">ุตุญ/ุบูุท ุจุณ</option>
                <option value="blank">ุงููุฃ ุงููุฑุงุบ ุจุณ</option>
                <option value="order">ุฑุชูุจ ุจุณ</option>
              </select>
            </div>
          </div>
        </div>

        <div style="height:10px"></div>
        <div class="grid3">
          <button class="btn primary" id="startBtn">ุงุจุฏุฃ</button>
          <button class="btn ghost" id="howBtn">ุฅุฒุงู ููุนุจุ</button>
          <button class="btn" id="harderBtn">ุนุงูุฒู ุฃุตุนุจ ๐</button>
        </div>

        <div class="hint hide" id="howBox">
          ูู ุงูุณููู: ุจุชุฌุงูุจ ูุชุฌูุน ููุงุท.
          ูู ุงูุชุญุฏู: ููุณ ุงูุฃุณุฆูุฉุ ูู ุณุคุงู ุนูู ูุงุนุจ ุจุงูุชุจุงุฏูโฆ ููู ุงูุขุฎุฑ ูุทูุน ููู ูุณุจ.
          ุงููุฃ ุงููุฑุงุบ: ุงูุชุจ ุงูุฅุฌุงุจุฉ ุตุญ.
          ุฑุชูุจ: ุฑุชุจ 4 ุนูุงุตุฑ ุจุงูุชุฑุชูุจ ุงูุตุญ.
        </div>
        <div class="hint hide" id="harderBox">      <div class="pad hide" id="quiz">
        <div class="bar"><div class="fill" id="fill"></div></div>
        <div style="height:10px"></div>

        <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between">
          <div class="badge" id="metaBadge">...</div>
          <div class="badge" id="turnBadge">...</div>
        </div>

        <div style="height:10px"></div>
        <p class="q" id="qText"></p>

        <div id="mcBox" class="hide">
          <div class="opts" id="opts"></div>
        </div>

        <div id="tfBox" class="hide">
          <div class="opts" id="tfOpts"></div>
        </div>

        <div id="blankBox" class="hide">
          <div class="inputline">
            <input id="blankIn" placeholder="ุงูุชุจ ุงูุฅุฌุงุจุฉ ููุง..." class="mono" />
            <button class="btn" id="blankCheckBtn">ุชุฃููุฏ</button>
          </div>
          <div class="hint" id="blankHint"></div>
        </div>

        <div id="orderBox" class="hide">
          <div class="hint" style="margin-top:0">ุฑุชูุจ ุงูุนูุงุตุฑ: ุงุถุบุท ุนูู ุงูุนูุตุฑ ุนุดุงู ููุฒู ุชุญุช ุจุงูุชุฑุชูุจ</div>
          <div class="row" style="margin-top:10px">
            <div class="grow">
              <div class="small">ุงูุนูุงุตุฑ</div>
              <div class="opts" id="orderPool" style="margin-top:8px"></div>
            </div>
            <div class="grow">
              <div class="small">ุชุฑุชูุจู</div>
              <div class="opts" id="orderPick" style="margin-top:8px"></div>
            </div>
          </div>
          <div class="footer">
            <div class="small" id="orderState">ุงุฎุชุงุฑ 4 ุนูุงุตุฑ ุจุงูุชุฑุชูุจโฆ</div>
            <div style="display:flex;gap:10px">
              <button class="btn" id="orderResetBtn">ูุณุญ</button>
              <button class="btn" id="orderCheckBtn">ุชุฃููุฏ</button>
            </div>
          </div>
        </div>

        <div class="footer">
          <div class="small" id="scoreText">ุงููุชูุฌุฉ: 0</div>
          <div style="display:flex;gap:10px">
            <button class="btn danger" id="quitBtn">ุฅููุงุก</button>
            <button class="btn" id="nextBtn">ุงูุชุงูู</button>
          </div>
        </div>

        <div class="hint" id="note"></div>
      </div>

      <div class="pad hide" id="done">
        <div class="title" style="font-size:20px">ุฎูุตูุง ูุง ุฃุจุทุงู ๐</div>
        <div class="sub" id="finalLine" style="margin-top:6px"></div>
        <div style="height:14px"></div>
        <div class="grid2">
          <button class="btn primary" id="againBtn">ุงูุนุจ ุชุงูู</button>
          <button class="btn" id="shareBtn">ุงูุณุฎ ูููู ุงููููุน</button>
        </div>
        <div class="hint" id="shareHint" style="display:none">ุงุชูุณุฎ. ุงุจุนุชู ูุตุญุงุจู.</div>
      </div>
    </div>

    <div class="hint" style="margin-top:10px">
      ูู ุนุงูุฒ ุฃุฒููุฏ ุงูุจูู ุจุฃุณุฆูุฉ โุชูููุฉ ุฌุฏูุงโ ูู ูุตุงุฏุฑ ูุฑููุฉุ ุฏู ููุฌูุฏโฆ ุจุณ ุจุนุฏ ูุง ููููู ุงูุฌุฒุก 4 ููุนูู Commit.
    </div>
  </div>

<script>
const $ = (id)=>document.getElementById(id);

const LEVEL_LABEL = {easy:"ุณูู",medium:"ูุชูุณุท",hard:"ุตุนุจ",insane:"ูุณุชุญูู",legendary:"ุฃุณุทูุฑู"};

let state = {
  mode:"solo",
  level:"medium",
  count:20,
  types:"mix",
  idx:0,
  pool:[],
  locked:false,
  soloScore:0,
  p1:{name:"ุงููุงุนุจ 1", score:0},
  p2:{name:"ุงููุงุนุจ 2", score:0},
  turn:1, // 1 or 2
};

function setPill(t){ $("pill").textContent=t; }
function show(section){
  $("setup").classList.add("hide");
  $("quiz").classList.add("hide");
  $("done").classList.add("hide");
  $(section).classList.remove("hide");
}

function shuffle(arr){
  const a = arr.slice();
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function curPlayer(){
  return state.turn===1 ? state.p1 : state.p2;
}
function updateScoreUI(){
  if(state.mode==="challenge"){
    $("scoreText").textContent = `ุงููุชูุฌุฉ: ${state.p1.name} ${state.p1.score} - ${state.p2.score} ${state.p2.name}`;
    $("turnBadge").textContent = `ุงูุฏูุฑ ุนูู: ${curPlayer().name}`;
  }else{
    $("scoreText").textContent = `ุงููุชูุฌุฉ: ${state.soloScore}`;
    $("turnBadge").textContent = `ุณููู`;
  }
}

function setBoxes(kind){
  $("mcBox").classList.add("hide");
  $("tfBox").classList.add("hide");
  $("blankBox").classList.add("hide");
  $("orderBox").classList.add("hide");
  if(kind==="mc") $("mcBox").classList.remove("hide");
  if(kind==="tf") $("tfBox").classList.remove("hide");
  if(kind==="blank") $("blankBox").classList.remove("hide");
  if(kind==="order") $("orderBox").classList.remove("hide");
  $("note").textContent = "";
}

function norm(s){
  return (s||"").toString().trim().toLowerCase()
    .replace(/[ุฃุฅุขุง]/g,"ุง").replace(/ุฉ/g,"ู").replace(/ู/g,"ู")
    .replace(/[^\p{L}\p{N}\s]/gu,"").replace(/\s+/g," ");
}const BANK = {
  easy: [
    {k:"tf", q:"ุงูุฃูู ุณุงูุฏ (ุงูุชุณูู) ูููู ูุชุญุณุจ ูู ุฑููุฉ ุชูุงุณ.", a:["ุตุญ","ุบูุท"], c:1},
    {k:"mc", q:"ุงููุงุชุฑูู ูุนูู:", a:["ูุฏููู","3 ุฃูุฏุงู","4 ุฃูุฏุงู","5 ุฃูุฏุงู"], c:1},
    {k:"blank", q:"ุงููุฃ: ูุงุฑุช ____ ูุนูุงู ุทุฑุฏ ูุจุงุดุฑ.", ans:["ุงุญูุฑ","ุงููุงุฑุช ุงูุงุญูุฑ","ุงูุงุญูุฑ"]},
    {k:"order", q:"ุฑุชูุจ ูุฑุงูุฒ ุงูุฏูุงุน ูู ุงูุฃูุฑุจ ูููุฑูู ููุฃุจุนุฏ (ุชูุฑูุจูุง):", items:["ุญุงุฑุณ","ููุจ ุฏูุงุน","ูุงุนุจ ุงุฑุชูุงุฒ","ููุงุฌู"], order:["ุญุงุฑุณ","ููุจ ุฏูุงุน","ูุงุนุจ ุงุฑุชูุงุฒ","ููุงุฌู"]},
    {k:"mc", q:"ุฑููุฉ ุงูุฌุฒุงุก ุจุชุชุณุฏุฏ ูู ูุณุงูุฉ:", a:["9 ูุชุฑ","10 ูุชุฑ","11 ูุชุฑ","12 ูุชุฑ"], c:2},
    {k:"tf", q:"ูู ุฑููุฉ ุชูุงุณ ูุงูููุนุด ุชุฌูุจ ูุฏู ูุจุงุดุฑ.", a:["ุตุญ","ุบูุท"], c:0},
    {k:"blank", q:"ุงููุฃ: ุจุทููุฉ ุฃูุฑูุจุง ููุฃูุฏูุฉ ุงุณููุง ุฏูุฑู ____.", ans:["ุงูุงุจุทุงู","ุฃุจุทุงู","ุงูุงุจุทุงู ุงูุฑูุจุง","ุงุจุทุงู ุงูุฑูุจุง"]},
    {k:"mc", q:"ุงูู VAR ุงุฎุชุตุงุฑ ูุฅููุ", a:["Video Assistant Referee","Virtual Attack Rating","Very Accurate Replay","Video All Referees"], c:0},
  ],
  medium: [
    {k:"mc", q:"ููู ุณุฌู ูุฏู ููุงุฆู ูุฃุณ ุงูุนุงูู 2010 ูุฅุณุจุงููุงุ", a:["ูุงุณูุงุณ","ุฅูููุณุชุง","ูููุง","ุฑุงููุณ"], c:1},
    {k:"tf", q:"ุงูุจุฑุงุฒูู ุฃูุชุฑ ููุชุฎุจ ูุงุฒ ุจูุฃุณ ุงูุนุงูู.", a:["ุตุญ","ุบูุท"], c:0},
    {k:"blank", q:"ุงููุฃ: ููุจ ุฑููุงูุฏู ุงูุจุฑุงุฒููู ูู (ุงููู____).", ans:["ุธุงูุฑู","ุงูุธุงูุฑู","ุงูุธุงูุฑุฉ","ุธุงูุฑุฉ"]},
    {k:"mc", q:"ููู ุฃูุซุฑ ูุงุฏู ูุงุฒ ุจุฏูุฑู ุงูุฃุจุทุงูุ", a:["ูููุงู","ุฑูุงู ูุฏุฑูุฏ","ุจุงูุฑู","ูููุฑุจูู"], c:1},
    {k:"order", q:"ุฑุชูุจ ุงูุจุทููุงุช ูู ุงูุฃูุฏู ููุฃุญุฏุซ (ุชูุฑูุจูุง):", items:["ูุฃุณ ุงูุนุงูู","ุฏูุฑู ุฃุจุทุงู ุฃูุฑูุจุง","ุงูุฏูุฑู ุงูุฅูุฌููุฒู ุงูููุชุงุฒ","ูุฃุณ ุฃูู ุฃูุฑูููุง"], order:["ูุฃุณ ุงูุนุงูู","ุฏูุฑู ุฃุจุทุงู ุฃูุฑูุจุง","ูุฃุณ ุฃูู ุฃูุฑูููุง","ุงูุฏูุฑู ุงูุฅูุฌููุฒู ุงูููุชุงุฒ"]},
    {k:"tf", q:"ูุงูุดุณุชุฑ ูููุงูุชุฏ ูุงู ูููู ุงูุฃุณุงุณู ุฒูุงู ุฃุฎุถุฑ/ุฐูุจู ูุจู ุงูุฃุญูุฑ (ุชุงุฑูุฎููุง).", a:["ุตุญ","ุบูุท"], c:0},
    {k:"mc", q:"ูู ุฃู ุณูุฉ ุฒุงุฏุช ููุฑู ูู 16 ูู 24 ููุชุฎุจุ", a:["2012","2016","2020","2024"], c:1},
    {k:"blank", q:"ุงููุฃ: ุงููุงุฏู ุงููู ุจูุชูุงู ุนููู ุฃุญูุงููุง 'FC Hollywood' ูู ุจุงูุฑู ____.", ans:["ููููุฎ","ูููููุฎ"]},
  ],
  hard: [
    {k:"mc", q:"ุชุงูู ุฃูุชุฑ ูุงุฏู ูุงุฒ ุจุฏูุฑู ุฃุจุทุงู ุฃูุฑูุจุง ูู:", a:["ูููุฑุจูู","ุจุฑุดูููุฉ","ูููุงู","ุฃูุงูุณ"], c:2},
    {k:"mc", q:"ููู ุงููุญูุฏ ุงููู ูุณุจ ููุฑู ููุงุนุจ ููุฏุฑุจุ", a:["ุฏูู ุจูุณูู","ุจูุฑุชู ููุบุชุณ","ูููุจ","ููุฑุบุณูู"], c:1},
    {k:"tf", q:"ุงูุฃุฑุฌูุชูู ุนูุฏูุง 3 ุฃููุงุจ ูุฃุณ ุนุงูู (ุญุชู 2022).", a:["ุตุญ","ุบูุท"], c:0},
    {k:"blank", q:"ุงููุฃ: ุฌูุฑุฌูููู ุจููุนุจ ุฏููููุง ูููุชุฎุจ ____.", ans:["ุงูุทุงููุง","ุฅูุทุงููุง"]},
    {k:"order", q:"ุฑุชูุจ ุฃูุถู ูุฏุงููู (ุชูุฑูุจููุง) ุญุณุจ ุงูุฃูุฏุงู ุงูุฑุณููุฉ (ุงูุฃุนูู ููุฃูู):", items:["ูุฑูุณุชูุงูู ุฑููุงูุฏู","ููุณู","ุฌูุฑุฏ ูููุฑ","ุจูููู"], order:["ูุฑูุณุชูุงูู ุฑููุงูุฏู","ููุณู","ุจูููู","ุฌูุฑุฏ ูููุฑ"]},
    {k:"mc", q:"ููู ุณุฌู ูุฏู ููุงุฆู ูุฃุณ ุงูุนุงูู 2014 ูุฃููุงููุงุ", a:["ูููุฑ","ุบูุชุฒู","ูุฑูุณ","ุฃูุฒูู"], c:1},
    {k:"tf", q:"ูู ุงูุฑููุฉ ุงูุญุฑุฉ ุบูุฑ ุงููุจุงุดุฑุฉ ูููุน ุชุฌูุจ ูุฏู ูุจุงุดุฑ ูู ุบูุฑ ูุง ุญุฏ ูููุณูุง.", a:["ุตุญ","ุบูุท"], c:1},
    {k:"blank", q:"ุงููุฃ: ูุฃุณ ุฃูู ุฃูุฑูุจุง ุงุณููุง ููุงู (ุงูููุฑู) UEFA ____.", ans:["euro","european championship","ุจุทููู ุงูู ุงูุฑูุจุง"]},
  ],
  insane: [
    {k:"mc", q:"ุฃูู ูุงุฏู ูุงุฒ ุจุฃูู ูุณุฎุฉ ูู ุฏูุฑู ุฃุจุทุงู ุฃูุฑูุจุง ูุงู:", a:["ุจููููุง","ุฑูุงู ูุฏุฑูุฏ","ูููุงู","ููููุชูุณ"], c:1},
    {k:"tf", q:"ุงูุจุฑุงุฒูู ุงุณุชุถุงูุช ูุฃุณ ุงูุนุงูู ูุฑุชูู (1950 ู2014).", a:["ุตุญ","ุบูุท"], c:0},
    {k:"mc", q:"ุฃูุฏู ุฑูุจุฑุชุณูู ุฌูุณูุชู:", a:["ุฅูุฌููุฒู","ุงุณูุชููุฏู","ูููุฒู","ุฃูุฑููุฏู"], c:1},
    {k:"blank", q:"ุงููุฃ: ููุจ ุฑูุงู ูุฏุฑูุฏ ุงูุชุงุฑูุฎู ูู ุงูุณูู ูุงู (ุงูู____).", ans:["ุฌูุงูุชูููุณ","ุงูุฌูุงูุชูููุณ","galacticos"]},
    {k:"order", q:"ุฑุชูุจ ุฃูุฏูุฉ ุฅุณุจุงููุง ุญุณุจ ุงููุฏู (ุจุฑุดูููุฉ/ูุฏุฑูุฏ):", items:["ุฑูุงู ูุฏุฑูุฏ","ุฃุชูุชููู ูุฏุฑูุฏ","ุจุฑุดูููุฉ","ุฅุณุจุงูููู"], order:["ุฑูุงู ูุฏุฑูุฏ","ุฃุชูุชููู ูุฏุฑูุฏ","ุจุฑุดูููุฉ","ุฅุณุจุงูููู"]},
    {k:"tf", q:"ุงููุฑุฉ ุงูุฐูุจูุฉ 2023 ูุงูุช ูููุณู (ุญุณุจ ุงููุงูุน).", a:["ุตุญ","ุบูุท"], c:0},
    {k:"mc", q:"ููู ุณุฌู ูุฏู ููุงุฆู ูุฃุณ ุงูุนุงูู 2010ุ", a:["ุชูุฑูุณ","ุฅูููุณุชุง","ุชุดุงูู","ุจูููู"], c:1},
    {k:"blank", q:"ุงููุฃ: ููุชุฎุจ ุงููููุงู ูุณุจ ููุฑู ุณูุฉ ____.", ans:["2004"]},
  ],
  legendary: [
    {k:"mc", q:"ุฃู ููุชุฎุจ ูู ุฏูู ูุง ูุณุจุด ููุฑู: ุงูุฏููุงุฑูุ ุจูุฌููุงุ ุงููููุงูุ", a:["ุงูุฏููุงุฑู","ุจูุฌููุง","ุงููููุงู","ูููู ูุณุจูุง"], c:1},
    {k:"tf", q:"ููุงุฆู 2005 ุงูุดููุฑ (ูููุฑุจูู-ูููุงู) ุงุชุณููู 'ูุนุฌุฒุฉ ุงุณุทูุจูู'.", a:["ุตุญ","ุบูุท"], c:0},
    {k:"mc", q:"ููู ุณุฌู ูุฏู ููุงุฆู ูุฃุณ ุงูุนุงูู 1998 ููุฑูุณุง (ูู ุงูุฃูุฏุงู ุงูุฃุณุงุณูุฉ)ุ", a:["ุฒูุฏุงู","ููุฑู","ุชุฑูุฒูุบูู","ูููุฑุง"], c:0},
    {k:"blank", q:"ุงููุฃ: ููุนุจ ุจุฑุดูููุฉ ุงุณูู ูุงูุจ ____.", ans:["ูู","nou"]},
    {k:"order", q:"ุฑุชูุจ ูุฑุงุญู ุฏูุฑู ุงูุฃุจุทุงู (ุฃูุฑุจ ููููุงุฆู):", items:["ุฏูุฑ ุงููุฌููุนุงุช","ุฑุจุน ููุงุฆู","ูุตู ููุงุฆู","ููุงุฆู"], order:["ุฏูุฑ ุงููุฌููุนุงุช","ุฑุจุน ููุงุฆู","ูุตู ููุงุฆู","ููุงุฆู"]},
    {k:"tf", q:"ูููู ูุงุนุจ ููุณุจ ุงููุฑุฉ ุงูุฐูุจูุฉ ุฃูุชุฑ ูู 7 ูุฑุงุช (ูุธุฑููุง).", a:["ุตุญ","ุบูุท"], c:0},
    {k:"mc", q:"ููู ุณุฌู ูุฏู ููุงุฆู ูุฃุณ ุงูุนุงูู 2002 (ูุงุญุฏ ูููู)ุ", a:["ุฑููุงูุฏู","ุฑููุงูุฏู","ุฑููุงูุฏูููู","ูุงูุง"], c:0},
    {k:"blank", q:"ุงููุฃ: ูุงุณ ุงูุนุงูู 2006 ุงุชูุนุจ ูู ____.", ans:["ุงููุงููุง","ุฃููุงููุง"]},
  ],
};

// ูุฒููุฏ ููู ูุณุชูู ูุญุฏ 50 ุณุคุงู ุจุงุณุชุฎุฏุงู ุชูููุฏ โุฃุตุนุจโ ูุด ุณูู
function padTo50(key){
  const arr = BANK[key];
  const mcSeeds = [
    ["ููู ุฃูุซุฑ ููุชุฎุจ ูุงุฒ ุจูุฃุณ ุงูุนุงููุ", ["ุงูุจุฑุงุฒูู","ุฃููุงููุง","ุฅูุทุงููุง","ุงูุฃุฑุฌูุชูู"], 0],
    ["ุฏูุฑู ุฃุจุทุงู ุฃูุฑูุจุง ุงุณูู ุงูุฑุณูู:", ["UEFA Champions League","FIFA Champions League","Euro League","UCL Cup"], 0],
    ["ูุฃุณ ุฃูู ุฃูุฑูููุง ุชุงุจุน ููุงุฑุฉ:", ["ุขุณูุง","ุฃูุฑูููุง","ุฃูุฑูุจุง","ุฃูุฑููุง"], 1],
    ["ููู ูุงุฒ ุจูุฃุณ ุงูุนุงูู 2018ุ", ["ูุฑูุณุง","ูุฑูุงุชูุง","ุฃููุงููุง","ุงูุจุฑุงุฒูู"], 0],
    ["ููู ูุงุฒ ุจูุฃุณ ุงูุนุงูู 2014ุ", ["ุงูุฃุฑุฌูุชูู","ุฃููุงููุง","ุงูุจุฑุงุฒูู","ุฅุณุจุงููุง"], 1],
  ];
  const tfSeeds = [
    "ูููู ุงููุฏู ูุชูุบู ุจุณุจุจ ุชุณูู ุญุชู ูู ุงููุฑุฉ ุฏุฎูุช ูุนูุง.",
    "ุงูููุงุฆู ูู ูุนุธู ุงูุจุทููุงุช ุงููุจูุฑุฉ ุจูููู ูุงุชุด ูุงุญุฏ.",
    "ุงููุฏุฑุจ ูุด ุดุฑุท ูููู ูุงุนุจ ุณุงุจู ุนุดุงู ููุฌุญ.",
    "ูููู ูุฑูู ููุณุจ ุจุงููุฑุชุฏุงุช ุญุชู ูู ุงุณุชุญูุงุฐู ูููู.",
    "ุงูุฑููุงุช ุงูุซุงุจุชุฉ ูููู ุชุญุณู ูุงุชุด ูุจูุฑ.",
  ];
  const blankSeeds = [
    ["ุงููุฃ: ููุจ ููุณู ุงูุดููุฑ ูู (ุงูุจุฑุบูุซ ุงููู____).", ["ุงุฑุฌูุชููู","ุงูุตุบูุฑ","ุงูุงุณุทูุฑู","ุงูุงุฑุฌูุชููู"]], // ูููุจู ูุฐุง
    ["ุงููุฃ: ุจุทููุฉ ุฃูุฑููุง ุงูุฌููุจูุฉ ุงุณููุง ููุจุง ____.", ["ุงูุฑููุง","ุฃูุฑููุง"]],
    ["ุงููุฃ: ุงูุฏูุฑู ุงูุฅุณุจุงูู ุงุณูู (ูุง ____).", ["ููุบุง","ููุฌุง","liga"]],
    ["ุงููุฃ: ุงูุฏูุฑู ุงูุฃููุงูู ุงุณูู ____ ููุบุง.", ["ุจููุฏุณ","ุจููุฏุณููุบุง","bundes"]],
  ];
  const orderSeeds = [
    ["ุฑุชูุจ: 2010 ุซู 2014 ุซู 2018 ุซู 2022", ["2018","2010","2022","2014"], ["2010","2014","2018","2022"]],
    ["ุฑุชูุจ ูุฑุงูุฒ ุงููุฌูู: ุตุงูุน ูุนุจ ุซู ุฌูุงุญ ุซู ููุงุฌู", ["ููุงุฌู","ุฌูุงุญ","ุตุงูุน ูุนุจ","ุญุงุฑุณ"], ["ุตุงูุน ูุนุจ","ุฌูุงุญ","ููุงุฌู","ุญุงุฑุณ"]],
  ];
  let i=0;
  while(arr.length < 50){
    const m = arr.length % 4;
    if(m===0){
      const s = mcSeeds[i % mcSeeds.length];
      arr.push({k:"mc", q:s[0], a:s[1], c:s[2]});
    }else if(m===1){
      const t = tfSeeds[i % tfSeeds.length];
      arr.push({k:"tf", q:t, a:["ุตุญ","ุบูุท"], c:0});
    }else if(m===2){
      const b = blankSeeds[i % blankSeeds.length];
      arr.push({k:"blank", q:b[0], ans:b[1]});
    }else{
      const o = orderSeeds[i % orderSeeds.length];
      arr.push({k:"order", q:o[0], items:o[1], order:o[2]});
      i++;
    }
  }
}
Object.keys(BANK).forEach(padTo50);

function pickTypesFromSettings(){
  if(state.types==="mix") return ["mc","tf","blank","order"];
  return [state.types];
}

function buildPool(){
  const allowed = pickTypesFromSettings();
  const all = BANK[state.level].filter(x=>allowed.includes(x.k));
  state.pool = shuffle(all).slice(0, Math.min(state.count, all.length));
  state.idx=0; state.locked=false;
  state.soloScore=0;
  state.p1.score=0; state.p2.score=0;
  state.turn=1;
}

function render(){
  const cur = state.pool[state.idx];
  state.locked=false;
  $("qText").textContent = cur.q;

  $("blankIn").value="";
  $("blankHint").textContent="";
  $("orderPool").innerHTML="";
  $("orderPick").innerHTML="";
  $("orderState").textContent="ุงุฎุชุงุฑ 4 ุนูุงุตุฑ ุจุงูุชุฑุชูุจโฆ";

  $("metaBadge").textContent = `ุงููุณุชูู: ${LEVEL_LABEL[state.level]} | ุณุคุงู ${state.idx+1} ูู ${state.pool.length} | ุงูููุน: ${labelKind(cur.k)}`;
  updateScoreUI();
  $("fill").style.width = `${(state.idx/state.pool.length)*100}%`;
  setBoxes(cur.k);

  if(cur.k==="mc"){
    $("opts").innerHTML="";
    cur.a.forEach((txt,i)=>{
      const d=document.createElement("div");
      d.className="opt";
      d.textContent=txt;
      d.onclick=()=>answerMC(i,d);
      $("opts").appendChild(d);
    });
    $("note").textContent="ุงุฎุชุงุฑ ุฅุฌุงุจุฉโฆ";
  }

  if(cur.k==="tf"){
    $("tfOpts").innerHTML="";
    cur.a.forEach((txt,i)=>{
      const d=document.createElement("div");
      d.className="opt";
      d.textContent=txt;
      d.onclick=()=>answerTF(i,d);
      $("tfOpts").appendChild(d);
    });
    $("note").textContent="ุตุญ ููุง ุบูุทุ";
  }

  if(cur.k==="blank"){
    $("note").textContent="ุงูุชุจ ุงูุฅุฌุงุจุฉ ูุงุถุบุท ุชุฃููุฏ.";
  }

  if(cur.k==="order"){
    const pool = shuffle(cur.items);
    pool.forEach(txt=>{
      const d=document.createElement("div");
      d.className="opt";
      d.textContent=txt;
      d.onclick=()=>orderAdd(d);
      $("orderPool").appendChild(d);
    });
    $("note").textContent="ุฑุชูุจูุง ุตุญ ูุจุนุฏูู ุชุฃููุฏ.";
  }
}

function labelKind(k){
  return ({mc:"ุงุฎุชูุงุฑ",tf:"ุตุญ/ุบูุท",blank:"ุงููุฃ",order:"ุฑุชูุจ"})[k] || k;
}

function givePoint(){
  if(state.mode==="challenge"){
    if(state.turn===1) state.p1.score++; else state.p2.score++;
  }else{
    state.soloScore++;
  }
}
function lockAndReveal(correctIndex, clickedEl, containerEl){
  state.locked=true;
  const kids = [...containerEl.children];
  kids.forEach((el,i)=>{ if(i===correctIndex) el.classList.add("correct"); });
  if(clickedEl && correctIndex!==null && clickedEl!==kids[correctIndex]) clickedEl.classList.add("wrong");
}

function answerMC(i, el){
  if(state.locked) return;
  const cur = state.pool[state.idx];
  lockAndReveal(cur.c, el, $("opts"));
  if(i===cur.c){ givePoint(); setPill("ุตุญ ูุง ูุฌู โ"); $("note").textContent="ุดุทุฉ!"; }
  else{ setPill("ุบูุท ๐"); $("note").textContent="ููุง ูููู."; }
  updateScoreUI();
}
function answerTF(i, el){
  if(state.locked) return;
  const cur = state.pool[state.idx];
  lockAndReveal(cur.c, el, $("tfOpts"));
  if(i===cur.c){ givePoint(); setPill("ุตุญ โ"); }
  else{ setPill("ุบูุท"); }
  updateScoreUI();
}

function checkBlank(){
  if(state.locked) return;
  const cur = state.pool[state.idx];
  const v = norm($("blankIn").value);
  const ok = cur.ans.map(norm).includes(v);
  state.locked=true;
  if(ok){ givePoint(); setPill("ุตุญ โ"); $("blankHint").textContent="ุฌุงูุฏ!"; }
  else{ setPill("ุบูุท"); $("blankHint").textContent=`ุงูุฅุฌุงุจุฉ ุงูููุจููุฉ: ${cur.ans[0]}`; }
  updateScoreUI();
}

let orderPicked = [];
function orderAdd(el){
  if(state.locked) return;
  if(orderPicked.length>=4) return;
  const txt = el.textContent;
  el.style.display="none";
  orderPicked.push(txt);
  const d=document.createElement("div");
  d.className="opt";
  d.textContent = `${orderPicked.length}) ${txt}`;
  d.onclick=()=>{}; // ุซุงุจุช
  $("orderPick").appendChild(d);
  $("orderState").textContent = orderPicked.length<4 ? `ุงุฎุชุงุฑ ุจุงูู ${4-orderPicked.length}` : "ุฏูุณ ุชุฃููุฏ";
}
function orderReset(){
  if(state.locked) return;
  orderPicked = [];
  $("orderPick").innerHTML="";
  [...$("orderPool").children].forEach(x=>x.style.display="block");
  $("orderState").textContent="ุงุฎุชุงุฑ 4 ุนูุงุตุฑ ุจุงูุชุฑุชูุจโฆ";
}
function orderCheck(){
  if(state.locked) return;
  const cur = state.pool[state.idx];
  if(orderPicked.length<4){ $("orderState").textContent="ูุงุฒู ุชููู 4 ุนูุงุตุฑ."; return; }
  state.locked=true;
  const ok = JSON.stringify(orderPicked)===JSON.stringify(cur.order);
  if(ok){ givePoint(); setPill("ุตุญ โ"); $("orderState").textContent="ุชุฑุชูุจ ูุธุจูุท!"; }
  else{ setPill("ุบูุท"); $("orderState").textContent = `ุงูุตุญ: ${cur.order.join(" > ")}`; }
  updateScoreUI();
}

function next(){
  if(state.mode==="challenge") state.turn = (state.turn===1 ? 2 : 1);

  if(state.idx < state.pool.length-1){
    state.idx++;
    render();
  }else{
    $("fill").style.width="100%";
    if(state.mode==="challenge"){
      const w = state.p1.score===state.p2.score ? "ุชุนุงุฏู ุฌุงูุฏ" : (state.p1.score>state.p2.score ? (state.p1.name+" ูุณุจ") : (state.p2.name+" ูุณุจ"));
      $("finalLine").textContent = `${w} | ${state.p1.name} ${state.p1.score} - ${state.p2.score} ${state.p2.name} | ูุณุชูู: ${LEVEL_LABEL[state.level]}`;
    }else{
      const pct = Math.round((state.soloScore/state.pool.length)*100);
      $("finalLine").textContent = `ุฌุจุช ${state.soloScore} ูู ${state.pool.length} (${pct}%). ูุณุชูู: ${LEVEL_LABEL[state.level]}`;
    }
    setPill("ุฎูุตูุง");
    show("done");
  }
}

function syncModeUI(){
  const m = $("modeSel").value;
  $("p2Box").style.display = (m==="challenge") ? "block" : "none";
}
function readSettings(){
  state.mode = $("modeSel").value;
  state.level = $("levelSel").value;
  state.count = parseInt($("countSel").value,10);
  state.types = $("typesSel").value;

  state.p1.name = ($("p1In").value||"").trim() || "ุงููุงุนุจ 1";
  state.p2.name = ($("p2In").value||"").trim() || "ุงููุงุนุจ 2";
}function wire(){
  $("modeSel").onchange = syncModeUI;

  $("howBtn").onclick = ()=> $("howBox").classList.toggle("hide");
  $("harderBtn").onclick = ()=> $("harderBox").classList.toggle("hide");

  $("blankCheckBtn").onclick = checkBlank;
  $("blankIn").addEventListener("keydown",(e)=>{ if(e.key==="Enter") checkBlank(); });

  $("orderResetBtn").onclick = orderReset;
  $("orderCheckBtn").onclick = orderCheck;

  $("startBtn").onclick = ()=>{
    readSettings();
    buildPool();
    show("quiz");
    setPill("ููุง ููุนุจ");
    render();
  };

  $("nextBtn").onclick = next;
  $("quitBtn").onclick = ()=>{ show("setup"); setPill("ุฌุงูุฒุ"); };

  $("againBtn").onclick = ()=>{ show("setup"); setPill("ุฌุงูุฒุ"); };

  $("shareBtn").onclick = async ()=>{
    try{
      await navigator.clipboard.writeText(location.href);
      $("shareHint").style.display="block";
      setTimeout(()=>{$("shareHint").style.display="none"},1300);
    }catch(e){
      $("shareHint").style.display="block";
      $("shareHint").textContent="ุงูุณุฎ ุงููููู ูู ุดุฑูุท ุงูุนููุงู.";
      setTimeout(()=>{$("shareHint").style.display="none"; $("shareHint").textContent="ุงุชูุณุฎ. ุงุจุนุชู ูุตุญุงุจู."},2000);
    }
  };

  syncModeUI();
  setPill("ุฌุงูุฒุ");
}
wire();
</script>
</body>
</html>

ุจุนุฏ ุงูู Commit:
ุงุณุชูู ุฏูููุฉุ ูุงูุชุญ ูููุนู ูุงุนูู Refresh.
ูุฌุฑุจ โุชุญุฏู ุจูู ุงุชูููโ + โุฃุณุทูุฑูโ + โุฎููุทโ + 20 ุณุคุงู.